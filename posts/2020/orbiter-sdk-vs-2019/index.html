<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="My personal website and notes">
    <link rel="stylesheet" href="/normalize.css" />
    <link rel="stylesheet" href="/style.css" media="screen" />
    <link rel="stylesheet" href="/style-dark.css" media="screen and (prefers-color-scheme: dark)" />
    <title>Setting up the orbiter 2016 sdk in visual studio 2019 - Thomas Antony</title>

</head>
<body>
  <header>
    <div id="nav-brand-wrapper">
      <a class="sakura-blossom sans" href="/">Thomas Antony</a>
    </div>
    <nav>
      
      [
        
        <a class="sakura-fade" href="https://thomasantony.com/about">about</a>,
        <a class="sakura-fade" href="https://thomasantony.com/posts">posts</a>,
        <a class="sakura-fade" href="https://thomasantony.com/publications">publications</a>
      ]
      
    </nav>
  </header>
  <section class="main">
  
<section class="post">
<p >
  <h1>Setting up the Orbiter 2016 SDK in Visual Studio 2019</h1>
  <small>
    <em>Posted on <time datetime="2020-08-08T12:39:52-05:00">08 August, 2020</time></em>
  </small>
  <article><p><a href="http://orbit.medphys.ucl.ac.uk/">Orbiter</a> is to space flight, what X-Plane is to aviation. Orbiter has been around since the early 2000s and it seems like some of the <a href="https://www.orbiterwiki.org/wiki/Category:OrbiterSDK">documentation</a> for add-on development is a bit out-dated. This post documents how to get an Orbiter 2016 addon development environment set-up on Windows 10, using tools available today (in 2020).</p>
<h2 id="download-orbiter-2016">Download Orbiter 2016</h2>
<p>Download and install Orbiter following instructions at <a href="http://orbit.medphys.ucl.ac.uk/download.html">http://orbit.medphys.ucl.ac.uk/download.html</a>. &quot;TexFilms&quot; on Youtube has a very <a href="https://youtube.com/watch?v=BzcPO8rtLDQ">good video</a> detailing how to install Orbiter 2016 along with some essential add-ons. <a href="https://www.orbiter-forum.com">Orbiter-Forum</a> is also a great resource. The rest of the post assumes that Orbiter 2016 is installed in <strong>C:\Orbiter</strong>.</p>
<h2 id="download-visual-studio-2019">Download Visual Studio 2019</h2>
<p>Download the Visual Studio 2019 Community Edition web installer from <a href="https://visualstudio.microsoft.com/downloads/">Visual Studio Download Center</a>. Run the installer and you will eventually see a window with something similar to this:</p>
<p><img src="/images/orbiter-sdk-vs-2019/vs-installer-01.png" alt="Visual Studio Installer" /></p>
<p>Check the option that says &quot;Desktop Development with C++&quot;. You may also modify the install location for the compiler. Continue with the installation and wait for it to complete.</p>
<h2 id="build-a-sample-project">Build a sample project</h2>
<p>The Orbiter SDK is installed in <strong>C:\Orbiter\OrbiterSdk</strong>. The SDK includes some sample projects including custom vehicles and Multi-Functional Displays (MFDs). Open <strong>OrbiterSdk\CustomMFD\CustomMFD.vcproj</strong> in Visual Studio 2019. You will get a prompt asking you if you want to convert the project to make it compatible.</p>
<p><img src="/images/orbiter-sdk-vs-2019/vs-01.png" alt="Visual Studio Project Conversion" /></p>
<p>Click &quot;OK&quot; to continue. Switch to the &quot;Property Manager&quot; tab at the bottom of &quot;Solution Explorer&quot;.</p>
<p><img src="/images/orbiter-sdk-vs-2019/vs-property-manager.png" alt="Visual Studio Property Manager Tab" /></p>
<p>Within Property Manager, expand &quot;CustomMFD&quot; to show two options &quot;Debug | WIn32&quot; and &quot;Release | Win32&quot;. Expand both of these until you get an opton called &quot;Orbiterroot&quot;. Right click this and select Properties. </p>
<p><img src="/images/orbiter-sdk-vs-2019/vs-orbiterroot.png" alt="Visual Studio Orbiter Root Property Sheet" /></p>
<p>Select &quot;User Macros&quot;. Ensure that the &quot;OrbiterDir&quot; variable is set to the correct Orbiter installation path.
<img src="/images/orbiter-sdk-vs-2019/vs-orbiterroot-window.png" alt="Visual Studio OrbiterDir" /></p>
<p>Select &quot;VC++ Directories&quot;. Change the &quot;Include Directories&quot; and &quot;Library Directories&quot; settings as shown in the screenshow below. This will ensure that the compiler can find the Orbiter SDK header files and libraries.</p>
<p><img src="/images/orbiter-sdk-vs-2019/vs-directories.png" alt="Visual Studio VC++ Directories" /></p>
<p>Click &quot;OK&quot; to close the property pages window. Right click on &quot;CustomMFD&quot; in Property Manager and select &quot;Properties&quot;. This should give you a window with an additional setting called &quot;Debugging&quot;. Change the settings as shown in the screenshot below. Please note that I use <strong>C:\Orbiter\Orbiter_ng.exe</strong> as the &quot;Command&quot; setting because I have the <a href="http://users.kymp.net/%7Ep501474a/D3D9Client/">Orbiter D3D9Client</a> installed. If you are running a vanilla Orbiter installation, set this to <strong>C:\Orbiter\Orbiter.exe</strong> instead.</p>
<p><img src="/images/orbiter-sdk-vs-2019/vs-debugging.png" alt="Visual Studio Debugging Property Sheet" /></p>
<p>I got this handy tip from Andrew Stokes' <a href="https://www.youtube.com/watch?v=knftMag1qc8">video</a>. Go to <strong>C++ &gt; Code Generation</strong> in the Property Sheet. Change Runtime Library to &quot;<strong>Multithreaded (/MT)</strong>&quot; for your &quot;Release&quot; configuration and &quot;<strong>Multithreaded Debug (/MTd)</strong>&quot; for your &quot;Debug&quot; configuration. This removes an external dependency on Visual Studio Runtime DLL.</p>
<p><img src="/images/orbiter-sdk-vs-2019/vs-runtime-debug.png" alt="Visual Studio Runtime Debug Configuration" />
<img src="/images/orbiter-sdk-vs-2019/vs-runtime-release.png" alt="Visual Studio Runtime Release Configuration" /></p>
<p>At this point, if you hit Build (F7), you may get an error saying:</p>
<pre style="background-color:#2b303b;color:#c0c5ce;"><code><span>RC : fatal error RC1110: could not open CustomMFD.rc
</span></code></pre>
<p>If this happens, switch back to &quot;Solution Explorer&quot; and delete the <strong>CustomMFD.rc</strong> file. Now the project should build successfully. It should be noted that the compiler places the output in the <strong>C:\Orbiter\Modules\Plugin</strong> directory by default. This can be verified by deleting <strong>C:\Orbiter\Modules\Plugin\CustomMFD.dll</strong> and rebuilding the project. Ensure that <strong>CustomMFD.dll</strong> appears in the folder after you build the project. You can now run Orbiter as usual or have Visual Studio start it for you by hitting &quot;Debug&quot;. Activate the Module within Orbiter Launcher as shown below to test it in the simulator.</p>
<p><img src="/images/orbiter-sdk-vs-2019/orbiter-modules.png" alt="Enable CustomMFD in Orbiter Launcher's Modules page" /></p>
<p>Your development environment is now ready.</p>
</article>
</p>
</section>


  </section>
  <footer class="sans">
    <a href="https://github.com/thomasantony/thomasantony.github.io-src" target="_blank"> Source code</a>. Built using <a href="https://getzola.org" target="_blank">Zola</a> and <a href="https://github.com/oxalorg/sakura" target="_blank">Sakura</a>.
  </footer>
</body>
</html>
